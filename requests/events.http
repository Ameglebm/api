@baseUrl = http://localhost:3000

### üé¨ EVENTS ‚Äî Teste de Expira√ß√£o Autom√°tica

### [1] Setup: Criar sess√£o ‚Üí 201
# @name createSession
POST {{baseUrl}}/sessions
Content-Type: application/json

{
  "movie": "Interestelar",
  "room": "Sala 7",
  "startsAt": "2026-03-01T19:00:00.000Z",
  "ticketPrice": 25.00,
  "totalSeats": 20
}

###

### [2] Listar assentos ‚Üí 200 todos AVAILABLE
# @name listSeats
@sessionId = {{createSession.response.body.id}}
GET {{baseUrl}}/seats/{{sessionId}}

###

### [3] Criar reserva ‚Üí 201 PENDING
# @name createReservation
POST {{baseUrl}}/reservations
Content-Type: application/json

{
  "seatId": "{{listSeats.response.body.0.id}}",
  "userId": "usuario-001"
}

###

### [4] Verificar assento lockado ‚Üí 200 status: AVAILABLE, isLocked: true
GET {{baseUrl}}/seats/{{sessionId}}

###

### [5] ‚è≥ ESPERE 31 SEGUNDOS

###

### [6] ‚úÖ Assento voltou AVAILABLE automaticamente ‚Üí 200 status: AVAILABLE, isLocked: false
GET {{baseUrl}}/seats/{{sessionId}}

###

### [7] ‚úÖ Reserva ficou EXPIRED ‚Üí 200 status: EXPIRED
@reservationId = {{createReservation.response.body.id}}
GET {{baseUrl}}/reservations/{{reservationId}}